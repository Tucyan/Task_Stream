# 错误报告：/journals/status 接口返回 null 问题

## 问题表现
前端调用后端接口 `/journals/status?year=2025&month=12&user_id=2` 时，返回结果为 `null`，导致浏览器控制台无法正确显示日志状态列表，页面功能异常。

## 问题定位过程
1. **前端排查**：
   - 检查了前端 `JournalView.jsx` 的 API 调用和日志输出，确认请求参数和处理逻辑无误。
   - 发现控制台始终打印为空，怀疑后端返回数据异常。

2. **后端排查**：
   - 使用 `curl` 直接请求 `/journals/status`，发现接口返回 `null`，而不是预期的布尔列表。
   - 检查后端 `main.py` 路由定义，确认 `get_journal_status_list` 逻辑正确，单元测试也能返回正确结果。
   - 增加后端日志，发现实际未进入 `get_journal_status` 逻辑。

3. **路由冲突分析**：
   - 发现 `/journals/status` 路由定义在 `/journals/{date}` 之后。
   - FastAPI 路由匹配是按顺序进行的，`/journals/status` 被 `/journals/{date}` 捕获为 `date="status"`，导致实际调用的是 `get_journal_by_date`，返回 `None`（即 `null`）。

## 解决方案
- 将 `/journals/dates` 和 `/journals/status` 两个特定路径的接口定义移动到 `/journals/{date}` 通用接口之前，避免路由冲突。
- 重启后端服务，验证接口返回已恢复正常。

## 验证结果
- 再次请求 `/journals/status?year=2025&month=12&user_id=2`，成功返回布尔列表数据。
- 前端控制台日志也能正确显示后端返回的状态列表。

---

**结论：**
本次错误由 FastAPI 路由顺序导致的路径冲突引起，调整路由定义顺序后问题已彻底解决。
